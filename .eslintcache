[{"C:\\GitHub\\markerFront\\src\\reportWebVitals.ts":"1","C:\\GitHub\\markerFront\\src\\Layouts\\MainLayout\\MainFooter\\MainFooter.tsx":"2","C:\\GitHub\\markerFront\\src\\Layouts\\AdminLayout\\Pages\\AdminAuth\\AdminAuth.tsx":"3","C:\\GitHub\\markerFront\\src\\Layouts\\MainLayout\\Pages\\Second\\Second.tsx":"4","C:\\GitHub\\markerFront\\src\\Redux\\actions\\app.tsx":"5","C:\\GitHub\\markerFront\\src\\SharedComponents\\AuthorityForm\\AuthorityForm.tsx":"6","C:\\GitHub\\markerFront\\src\\Redux\\reducers\\toast.tsx":"7","C:\\GitHub\\markerFront\\src\\SharedComponents\\ModalWindow\\ModalWindow.tsx":"8","C:\\GitHub\\markerFront\\src\\SharedComponents\\PropertyReferenceCard\\PropertyReferenceCard.tsx":"9","C:\\GitHub\\markerFront\\src\\Layouts\\AdminLayout\\AdminLayout.tsx":"10","C:\\GitHub\\markerFront\\src\\Redux\\actions\\modal.tsx":"11","C:\\GitHub\\markerFront\\src\\Layouts\\MainLayout\\Pages\\Main\\Main.tsx":"12","C:\\GitHub\\markerFront\\src\\Layouts\\AdminLayout\\Pages\\AdminProducts\\AdminProducts.tsx":"13","C:\\GitHub\\markerFront\\src\\SharedComponents\\ProductCard\\ProductCard.tsx":"14","C:\\GitHub\\markerFront\\src\\Redux\\reducers\\app.tsx":"15","C:\\GitHub\\markerFront\\src\\SharedComponents\\ProductReferenceCard\\ProductReferenceCard.tsx":"16","C:\\GitHub\\markerFront\\src\\SharedComponents\\ChangeProductForm\\ChangeProductForm.tsx":"17"},{"size":440,"mtime":1617964863457,"results":"18","hashOfConfig":"19"},{"size":431,"mtime":1617964863439,"results":"20","hashOfConfig":"19"},{"size":606,"mtime":1618818915120,"results":"21","hashOfConfig":"19"},{"size":379,"mtime":1617964863444,"results":"22","hashOfConfig":"19"},{"size":592,"mtime":1618836269129,"results":"23","hashOfConfig":"19"},{"size":7414,"mtime":1619411983949,"results":"24","hashOfConfig":"19"},{"size":891,"mtime":1617964863453,"results":"25","hashOfConfig":"19"},{"size":1549,"mtime":1619438839611,"results":"26","hashOfConfig":"19"},{"size":2977,"mtime":1619411983961,"results":"27","hashOfConfig":"19"},{"size":1956,"mtime":1619003931763,"results":"28","hashOfConfig":"19"},{"size":488,"mtime":1619411983937,"results":"29","hashOfConfig":"19"},{"size":361,"mtime":1617964863443,"results":"30","hashOfConfig":"19"},{"size":3215,"mtime":1619087333785,"results":"31","hashOfConfig":"19"},{"size":6029,"mtime":1619435390606,"results":"32","hashOfConfig":"19"},{"size":909,"mtime":1618836340164,"results":"33","hashOfConfig":"19"},{"size":1910,"mtime":1619411983959,"results":"34","hashOfConfig":"19"},{"size":1539,"mtime":1619441846211,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1ir51zn",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\GitHub\\markerFront\\src\\reportWebVitals.ts",[],["72","73"],"C:\\GitHub\\markerFront\\src\\Layouts\\MainLayout\\MainFooter\\MainFooter.tsx",[],"C:\\GitHub\\markerFront\\src\\Layouts\\AdminLayout\\Pages\\AdminAuth\\AdminAuth.tsx",[],"C:\\GitHub\\markerFront\\src\\Layouts\\MainLayout\\Pages\\Second\\Second.tsx",[],"C:\\GitHub\\markerFront\\src\\Redux\\actions\\app.tsx",[],"C:\\GitHub\\markerFront\\src\\SharedComponents\\AuthorityForm\\AuthorityForm.tsx",["74"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Container, Form } from 'react-bootstrap'\r\nimport './AuthorityForm.scss'\r\nimport { useForm } from 'react-hook-form'\r\nimport { OutAuthAdminData } from '../../Redux/interfaces/AdditionalInterfaces/OutAuthAdminData'\r\nimport { connect } from 'react-redux'\r\nimport { RootState } from '../../Redux'\r\nimport { setAppMarketUser, setAppLoading } from '../../Redux/actions/app'\r\nimport { MarketUser } from '../../Redux/interfaces/AdditionalInterfaces/MarketUser'\r\nimport { AppState } from '../../Redux/interfaces/interfaces'\r\nimport { Config } from '../../Config/Config'\r\nimport axios from 'axios'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\n\r\ninterface MatchParams {\r\n  id: string\r\n}\r\n\r\ninterface AuthorityFormProps extends RouteComponentProps<MatchParams> {\r\n  setAppMarketUser: (marketUser: MarketUser) => void\r\n  setAppLoading: (loading: boolean) => void\r\n  app: AppState\r\n}\r\n\r\ninterface FormValues {\r\n  email: string\r\n  password: string\r\n}\r\n\r\nconst AuthorityForm = (props: AuthorityFormProps) => {\r\n  const [formLoader, setFormLoader] = useState(true)\r\n\r\n  const [formAdditionalErrors, setFormAdditionalErrors] = useState({\r\n    buttonLoading: false,\r\n    formError: '',\r\n    requiredMessageText: 'Обязательное поле для заполнения',\r\n    minLengthMessageText: 'Ввведено недостаточное кол-во символов',\r\n    patternMessageText: 'Неверный формат данных',\r\n  })\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<FormValues>()\r\n\r\n  useEffect(() => {\r\n    const marketUser = localStorage.getItem('marketUser')\r\n    if (marketUser) {\r\n      const apiToken = JSON.parse(marketUser).apiToken\r\n      checkAuth(apiToken)\r\n    } else {\r\n      setFormLoader(false)\r\n    }\r\n  }, [])\r\n\r\n  const checkAuth = async (apiToken: string): Promise<any> => {\r\n    const api = axios.create({\r\n      baseURL: Config.backConnectData.backendURL,\r\n      withCredentials: true,\r\n      headers: {\r\n        Authorization: `Bearer ${apiToken}`,\r\n      },\r\n    })\r\n\r\n    await api\r\n      .get('/api/admin/checkAuth')\r\n      .then((res) => {\r\n        const marketUser: MarketUser = {\r\n          apiToken,\r\n          name: res.data.user.name,\r\n          email: res.data.user.email,\r\n          id: res.data.user.id,\r\n          admin: res.data.user.admin,\r\n        }\r\n        props.setAppMarketUser(marketUser)\r\n        localStorage.setItem('marketUser', JSON.stringify(marketUser))\r\n        res.data && props.history.push('/admin')\r\n      })\r\n      .catch((error) => {\r\n        setFormError('Ошибка связи с серверной частью приложения')\r\n        setFormLoader(false)\r\n      })\r\n  }\r\n\r\n  const setFormError = (error: string): void => {\r\n    setFormAdditionalErrors({ ...formAdditionalErrors, formError: error })\r\n  }\r\n\r\n  const handleClick = (data: OutAuthAdminData): void => {\r\n    setFormAdditionalErrors((prevState) => {\r\n      prevState.buttonLoading = true\r\n      return prevState\r\n    })\r\n    setFormError('')\r\n    authRequest(data)\r\n  }\r\n\r\n  const authRequest = async (data: OutAuthAdminData): Promise<any> => {\r\n    const api = axios.create({\r\n      baseURL: Config.backConnectData.backendURL,\r\n      withCredentials: true,\r\n    })\r\n\r\n    await api\r\n      .post('/api/admin/login', data)\r\n      .then((res) => {\r\n        if (res.status === 200 && res.data.apiToken) {\r\n          const marketUser: MarketUser = {\r\n            apiToken: res.data.apiToken,\r\n            name: res.data.user.name,\r\n            email: res.data.user.email,\r\n            id: res.data.user.id,\r\n            admin: res.data.user.admin,\r\n          }\r\n          props.setAppMarketUser(marketUser)\r\n\r\n          localStorage.setItem('marketUser', JSON.stringify(marketUser))\r\n\r\n          props.history.push('/admin')\r\n        } else {\r\n          setFormError('Ошибка авторизации')\r\n          // console.log(res)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setFormError('Ошибка связи с серверной частью приложения')\r\n        console.log(error)\r\n      })\r\n\r\n    setFormAdditionalErrors((prevState) => ({ ...prevState, buttonLoading: false }))\r\n  }\r\n\r\n  // console.log(errors)\r\n\r\n  return (\r\n    <Container fluid className=\"AuthorityForm\">\r\n      {formLoader ? (\r\n        <div className=\"AuthorityForm__loader d-flex justify-content-center\">\r\n          <div className=\"lds-roller\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"AuthorityForm_card\">\r\n          <Form>\r\n            <Form.Group controlId=\"formBasicEmail\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                placeholder=\"Введите email\"\r\n                {...register('email', {\r\n                  required: { value: true, message: formAdditionalErrors.requiredMessageText },\r\n                  minLength: { value: 5, message: formAdditionalErrors.minLengthMessageText },\r\n                  pattern: { value: /^\\S+@\\S+$/i, message: formAdditionalErrors.patternMessageText },\r\n                })}\r\n              />\r\n\r\n              {errors.email && <Form.Text className=\"text-danger\">{errors.email.message}</Form.Text>}\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formBasicPassword\">\r\n              <Form.Label>Пароль</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Введите Пароль\"\r\n                {...register('password', {\r\n                  required: { value: true, message: formAdditionalErrors.requiredMessageText },\r\n                  minLength: { value: 6, message: formAdditionalErrors.minLengthMessageText },\r\n                })}\r\n              />\r\n\r\n              {errors.password && <Form.Text className=\"text-danger\">{errors.password.message}</Form.Text>}\r\n            </Form.Group>\r\n\r\n            {formAdditionalErrors.formError !== '' ? (\r\n              <div className=\"AuthorityForm__formError\">\r\n                <Form.Text className=\"text-danger\">{formAdditionalErrors.formError}</Form.Text>\r\n              </div>\r\n            ) : null}\r\n            {formAdditionalErrors.buttonLoading ? (\r\n              <div className=\"AuthorityForm__loader d-flex justify-content-center\">\r\n                <div className=\"lds-ellipsis\">\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <Button variant=\"primary\" type=\"button\" size=\"lg\" onClick={handleSubmit((data) => handleClick(data))}>\r\n                Войти\r\n              </Button>\r\n            )}\r\n          </Form>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setAppMarketUser,\r\n  setAppLoading,\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => {\r\n  const app = state.app\r\n  const toast = state.toast\r\n  return {\r\n    app,\r\n    toast,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(AuthorityForm))\r\n","C:\\GitHub\\markerFront\\src\\Redux\\reducers\\toast.tsx",[],"C:\\GitHub\\markerFront\\src\\SharedComponents\\ModalWindow\\ModalWindow.tsx",[],"C:\\GitHub\\markerFront\\src\\SharedComponents\\PropertyReferenceCard\\PropertyReferenceCard.tsx",[],"C:\\GitHub\\markerFront\\src\\Layouts\\AdminLayout\\AdminLayout.tsx",[],"C:\\GitHub\\markerFront\\src\\Redux\\actions\\modal.tsx",[],"C:\\GitHub\\markerFront\\src\\Layouts\\MainLayout\\Pages\\Main\\Main.tsx",[],"C:\\GitHub\\markerFront\\src\\Layouts\\AdminLayout\\Pages\\AdminProducts\\AdminProducts.tsx",["75","76","77","78","79","80"],"C:\\GitHub\\markerFront\\src\\SharedComponents\\ProductCard\\ProductCard.tsx",[],"C:\\GitHub\\markerFront\\src\\Redux\\reducers\\app.tsx",[],"C:\\GitHub\\markerFront\\src\\SharedComponents\\ProductReferenceCard\\ProductReferenceCard.tsx",["81","82","83"],"C:\\GitHub\\markerFront\\src\\SharedComponents\\ChangeProductForm\\ChangeProductForm.tsx",["84","85","86","87"],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":55,"column":6,"nodeType":"94","endLine":55,"endColumn":8,"suggestions":"95"},{"ruleId":"96","severity":1,"message":"97","line":24,"column":10,"nodeType":"98","messageId":"99","endLine":24,"endColumn":18},{"ruleId":"96","severity":1,"message":"100","line":24,"column":20,"nodeType":"98","messageId":"99","endLine":24,"endColumn":31},{"ruleId":"96","severity":1,"message":"101","line":25,"column":10,"nodeType":"98","messageId":"99","endLine":25,"endColumn":14},{"ruleId":"96","severity":1,"message":"102","line":26,"column":10,"nodeType":"98","messageId":"99","endLine":26,"endColumn":18},{"ruleId":"96","severity":1,"message":"103","line":27,"column":10,"nodeType":"98","messageId":"99","endLine":27,"endColumn":15},{"ruleId":"92","severity":1,"message":"104","line":62,"column":6,"nodeType":"94","endLine":62,"endColumn":8,"suggestions":"105"},{"ruleId":"96","severity":1,"message":"106","line":3,"column":8,"nodeType":"98","messageId":"99","endLine":3,"endColumn":22},{"ruleId":"96","severity":1,"message":"107","line":4,"column":13,"nodeType":"98","messageId":"99","endLine":4,"endColumn":17},{"ruleId":"96","severity":1,"message":"108","line":15,"column":9,"nodeType":"98","messageId":"99","endLine":15,"endColumn":20},{"ruleId":"96","severity":1,"message":"109","line":18,"column":22,"nodeType":"98","messageId":"99","endLine":18,"endColumn":35},{"ruleId":"96","severity":1,"message":"110","line":21,"column":5,"nodeType":"98","messageId":"99","endLine":21,"endColumn":13},{"ruleId":"96","severity":1,"message":"111","line":22,"column":5,"nodeType":"98","messageId":"99","endLine":22,"endColumn":17},{"ruleId":"96","severity":1,"message":"112","line":23,"column":18,"nodeType":"98","messageId":"99","endLine":23,"endColumn":24},"no-native-reassign",["113"],"no-negated-in-lhs",["114"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkAuth'. Either include it or remove the dependency array.","ArrayExpression",["115"],"@typescript-eslint/no-unused-vars","'paginate' is assigned a value but never used.","Identifier","unusedVar","'setPaginate' is assigned a value but never used.","'page' is assigned a value but never used.","'lastPage' is assigned a value but never used.","'total' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getProducts'. Either include it or remove the dependency array.",["116"],"'NavbarMenuItem' is defined but never used.","'Icon' is defined but never used.","'toggleDescr' is assigned a value but never used.","'setFormLoader' is assigned a value but never used.","'register' is assigned a value but never used.","'handleSubmit' is assigned a value but never used.","'errors' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"117","fix":"118"},{"desc":"119","fix":"120"},"Update the dependencies array to be: [checkAuth]",{"range":"121","text":"122"},"Update the dependencies array to be: [getProducts]",{"range":"123","text":"124"},[1794,1796],"[checkAuth]",[2186,2188],"[getProducts]"]